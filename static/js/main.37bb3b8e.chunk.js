(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{127:function(t,e,n){t.exports=n(139)},134:function(t,e,n){},138:function(t,e,n){},139:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),s=n(16),o=n.n(s),i=(n(132),n(29)),c=n.n(i),u=n(69),l=n(64),d=n(70),h=n(18),p=n(19),f=n(21),m=n(20),y=n(4),v=n(8),C=n(67),g=n(65),b=(n(134),[]),w=[],O=[],j={countryCases:[],countryName:""},k=y.h,x=20,E=20,S=30,B=50,L=960-B-E,R=500-x-S,A=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).parseTime=y.k("%m/%e/%y"),a.myRef=r.a.createRef(),a.state={covidCases:[],selectedCountries:[],listOfCountries:[],firstCountrySelected:!1,selectedCountryIndex:0,dataLoaded:!1},a}return Object(p.a)(n,[{key:"drawChart",value:function(){y.i(".mainGraph").remove();var t=y.i(".graphContainer").append("svg").attr("width",L+B+E).attr("height",R+x+S).attr("class","mainGraph"),e=y.g().range([0,L]),n=y.f().range([R,0]),a=y.d().x((function(t){return e(t.date)})).y((function(t){return n(t.cases)}));e.domain(y.c(w)),n.domain([0,y.e(O)]),(t=t.append("g").attr("transform","translate("+B+","+x+")")).append("g").attr("transform","translate(0,"+R+")").call(y.a(e)),this.yAxis=t.append("g").call(y.b(n));var r=t.selectAll(".countryPath").data(j.countryCases).enter().append("g").attr("class","countryPath"),s=r.append("path").attr("class","line").attr("id",(function(t,e){return e})).attr("d",a).style("stroke-width","2px").style("stroke",(function(t,e){return k[e]})).attr("fill","none");y.j(".countrylabel").data(y.j(s)),r.append("text").text((function(t){return t[0].name})).attr("class","countrylabel").attr("y",(function(t,e){return y.i('[id="'.concat(e,'"]')).node().getBBox().y})).attr("x",(function(){return"700"})),y.j("countrylabel").remove()}},{key:"selectCountries",value:function(t){var e=this,n=this.state.selectedCountries.concat(this.state.listOfCountries[t]);this.setState({selectedCountries:n}),this.state.covidCases.forEach((function(n){n.hasOwnProperty(e.state.listOfCountries[t])&&b.push(n[e.state.listOfCountries[t]])}));for(var a=0;a<b.length;a++)for(var r=[],s=0,o=Object.entries(b[a]);s<o.length;s++){var i=Object(d.a)(o[s],2),c=i[0],u=i[1];c=this.parseTime(c),w.push(c),O.push(u);var l={date:c,cases:u,name:this.state.listOfCountries[t]};r.push(l)}j.countryCases.push(r),this.drawChart()}},{key:"componentDidMount",value:function(){var t=Object(l.a)(c.a.mark((function t(){var e=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://covid-vizua.herokuapp.com/download").then((function(t){return t.json()})).then((function(t){var n=new Set(t[0]),a=Object(u.a)(n);e.setState({covidCases:t[1],listOfCountries:a,dataLoaded:!0})}));case 2:y.i(this.myRef.current).append("svg").style("border-style","solid").style("border-width","1px").attr("width",L+B+E).attr("height",R+x+S).attr("class","graphContainer");case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"graph",ref:this.myRef},this.state.dataLoaded?console.log("success"):r.a.createElement(g.a,{id:"spinner",animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),r.a.createElement(C.a,{id:"dropdown-basic-button",onSelect:this.selectCountries.bind(this),title:"Country"},this.state.listOfCountries.map((function(t,e){return r.a.createElement(v.a.Item,{key:e,eventKey:e},t)}))))}}]),n}(r.a.Component),I=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("h3",{style:{textAlign:"center"}},"Select the country to display Covid-19 growth")}}]),n}(r.a.Component);var P=function(){return r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement(A,null))};n(138),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[127,1,2]]]);
//# sourceMappingURL=main.37bb3b8e.chunk.js.map