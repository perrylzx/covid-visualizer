(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{129:function(t,e,n){t.exports=n(141)},136:function(t,e,n){},140:function(t,e,n){},141:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(16),s=n.n(o),i=(n(134),n(31)),c=n.n(i),u=n(71),l=n(66),d=n(72),h=n(18),p=n(19),f=n(22),m=n(21),y=n(4),v=n(20),C=n(8),g=n(67),b=n(70),w=(n(136),[]),O=[],j=[],k={countryCases:[],countryName:""},E=y.h,x=20,S=20,R=30,B=50,L=960-B-S,A=500-x-R,G=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(t){var a;return Object(h.a)(this,n),(a=e.call(this,t)).parseTime=y.k("%m/%e/%y"),a.myRef=r.a.createRef(),a.state={covidCases:[],selectedCountries:[],listOfCountries:[],firstCountrySelected:!1,selectedCountryIndex:0,dataLoaded:!1},a}return Object(p.a)(n,[{key:"drawChart",value:function(){y.i(".mainGraph").remove();var t=y.i(".graphContainer").append("svg").attr("width",L+B+S).attr("height",A+x+R).attr("class","mainGraph"),e=y.g().range([0,L]),n=y.f().range([A,0]),a=y.d().x((function(t){return e(t.date)})).y((function(t){return n(t.cases)}));e.domain(y.c(O)),n.domain([0,y.e(j)]),(t=t.append("g").attr("transform","translate("+B+","+x+")")).append("g").attr("transform","translate(0,"+A+")").call(y.a(e)),this.yAxis=t.append("g").call(y.b(n));var r=t.selectAll(".countryPath").data(k.countryCases).enter().append("g").attr("class","countryPath"),o=r.append("path").attr("class","line").attr("id",(function(t,e){return e})).attr("d",a).style("stroke-width","2px").style("stroke",(function(t,e){return E[e]})).attr("fill","none");y.j(".countrylabel").data(y.j(o)),r.append("text").text((function(t){return t[0].name})).attr("class","countrylabel").attr("y",(function(t,e){return y.i('[id="'.concat(e,'"]')).node().getBBox().y})).attr("x",(function(){return"700"})),y.j("countrylabel").remove()}},{key:"selectCountries",value:function(t){var e=this;console.log("hello");var n=this.state.selectedCountries.concat(this.state.listOfCountries[t]);this.setState({selectedCountries:n}),this.state.covidCases.forEach((function(n){n.hasOwnProperty(e.state.listOfCountries[t])&&w.push(n[e.state.listOfCountries[t]])}));for(var a=0;a<w.length;a++)for(var r=[],o=0,s=Object.entries(w[a]);o<s.length;o++){var i=Object(d.a)(s[o],2),c=i[0],u=i[1];c=this.parseTime(c),O.push(c),j.push(u);var l={date:c,cases:u,name:this.state.listOfCountries[t]};r.push(l)}k.countryCases.push(r),this.drawChart()}},{key:"componentDidMount",value:function(){var t=Object(l.a)(c.a.mark((function t(){var e=this;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://covid-vizua.herokuapp.com/download").then((function(t){return t.json()})).then((function(t){var n=new Set(t[0]),a=Object(u.a)(n);e.setState({covidCases:t[1],listOfCountries:a,dataLoaded:!0})}));case 2:y.i(this.myRef.current).append("svg").style("border-style","solid").style("border-width","1px").attr("width",L+B+S).attr("height",A+x+R).attr("class","graphContainer");case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{id:"graph",ref:this.myRef},this.state.dataLoaded?r.a.createElement("div",{id:"button-group"},r.a.createElement(g.a,{id:"dropdown-basic-button",onSelect:this.selectCountries.bind(this),title:"Country"},this.state.listOfCountries.map((function(t,e){return r.a.createElement(C.a.Item,{key:e,eventKey:e},t)}))),r.a.createElement("div",null,r.a.createElement(v.a,{onClick:function(){k={countryCases:[],countryName:""},j=[],w=[],y.i(".mainGraph").remove()},id:"reset-button",variant:"primary"},"Reset")," ")):r.a.createElement(b.a,{id:"spinner",animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))}}]),n}(r.a.Component),I=function(t){Object(f.a)(n,t);var e=Object(m.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return r.a.createElement("h3",{style:{textAlign:"center",fontFamily:"fira-mono-medium"}},"Select the country to display Covid-19 growth")}}]),n}(r.a.Component);var N=function(){return r.a.createElement("div",null,r.a.createElement(I,null),r.a.createElement(G,null))};n(140),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[129,1,2]]]);
//# sourceMappingURL=main.bb0d6014.chunk.js.map